<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정보 입력 | 찬공랩</title>

    <meta name="description" content="사주와 MBTI 분석을 위한 정보 입력">

    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <a href="/" class="logo">찬공랩</a>
        </header>

        <!-- Input Form -->
        <section class="input-section">
            <h1 class="input-title">당신에 대해 알려주세요</h1>
            <p class="input-subtitle">정확한 분석을 위해 생년월일을 입력해주세요</p>

            <form action="/analyze" method="POST" class="input-form" id="analysisForm">

                <!-- 생년월일 -->
                <div class="form-group">
                    <label class="form-label">생년월일</label>
                    <div class="date-inputs">
                        <select name="birth_year" id="birthYear" required>
                            <option value="">년도</option>
                        </select>
                        <select name="birth_month" id="birthMonth" required>
                            <option value="">월</option>
                        </select>
                        <select name="birth_day" id="birthDay" required>
                            <option value="">일</option>
                        </select>
                    </div>
                </div>

                <!-- 음력/양력 -->
                <div class="form-group">
                    <label class="form-label">달력 종류</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="is_lunar" value="false" checked>
                            <span class="radio-text">양력</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="is_lunar" value="true">
                            <span class="radio-text">음력</span>
                        </label>
                    </div>
                </div>

                <!-- 태어난 시간 (선택) -->
                <div class="form-group">
                    <label class="form-label">태어난 시간 <span class="optional">(선택)</span></label>
                    <select name="birth_hour" id="birthHour">
                        <option value="">모름 / 선택 안함</option>
                        <option value="0">자시 (23:30 ~ 01:30)</option>
                        <option value="2">축시 (01:30 ~ 03:30)</option>
                        <option value="4">인시 (03:30 ~ 05:30)</option>
                        <option value="6">묘시 (05:30 ~ 07:30)</option>
                        <option value="8">진시 (07:30 ~ 09:30)</option>
                        <option value="10">사시 (09:30 ~ 11:30)</option>
                        <option value="12">오시 (11:30 ~ 13:30)</option>
                        <option value="14">미시 (13:30 ~ 15:30)</option>
                        <option value="16">신시 (15:30 ~ 17:30)</option>
                        <option value="18">유시 (17:30 ~ 19:30)</option>
                        <option value="20">술시 (19:30 ~ 21:30)</option>
                        <option value="22">해시 (21:30 ~ 23:30)</option>
                    </select>
                </div>

                <!-- 성별 -->
                <div class="form-group">
                    <label class="form-label">성별</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="gender" value="male" required>
                            <span class="radio-text">남성</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="gender" value="female">
                            <span class="radio-text">여성</span>
                        </label>
                    </div>
                </div>

                <!-- MBTI -->
                <div class="form-group">
                    <label class="form-label">MBTI 유형</label>
                    <select name="mbti" id="mbtiSelect" required>
                        <option value="">MBTI 선택</option>
                        <optgroup label="분석가형 (NT)">
                            <option value="INTJ">INTJ - 전략가</option>
                            <option value="INTP">INTP - 논리술사</option>
                            <option value="ENTJ">ENTJ - 통솔자</option>
                            <option value="ENTP">ENTP - 변론가</option>
                        </optgroup>
                        <optgroup label="외교관형 (NF)">
                            <option value="INFJ">INFJ - 옹호자</option>
                            <option value="INFP">INFP - 중재자</option>
                            <option value="ENFJ">ENFJ - 선도자</option>
                            <option value="ENFP">ENFP - 활동가</option>
                        </optgroup>
                        <optgroup label="관리자형 (SJ)">
                            <option value="ISTJ">ISTJ - 현실주의자</option>
                            <option value="ISFJ">ISFJ - 수호자</option>
                            <option value="ESTJ">ESTJ - 경영자</option>
                            <option value="ESFJ">ESFJ - 집정관</option>
                        </optgroup>
                        <optgroup label="탐험가형 (SP)">
                            <option value="ISTP">ISTP - 장인</option>
                            <option value="ISFP">ISFP - 모험가</option>
                            <option value="ESTP">ESTP - 사업가</option>
                            <option value="ESFP">ESFP - 연예인</option>
                        </optgroup>
                    </select>
                    <p class="form-hint">MBTI를 모르시면 <a href="https://www.16personalities.com/ko" target="_blank" rel="noopener">여기서 검사</a>하세요</p>
                </div>

                <!-- 추가 질문 섹션 -->
                <div class="extra-questions">
                    <h3 class="extra-title">조금 더 알려주세요</h3>

                    <!-- 관심사 선택 -->
                    <div class="form-group">
                        <label class="form-label">요즘 가장 신경 쓰이는 건?</label>
                        <select name="concern" required>
                            <option value="">선택해주세요</option>
                            <option value="love">💕 연애/인간관계</option>
                            <option value="career">💼 진로/취업</option>
                            <option value="money">💰 재물/금전운</option>
                            <option value="health">🏃 건강/컨디션</option>
                            <option value="growth">📚 자기계발</option>
                        </select>
                    </div>

                    <!-- 현재 상태 -->
                    <div class="form-group">
                        <label class="form-label">지금 내 상황은?</label>
                        <select name="status" required>
                            <option value="">선택해주세요</option>
                            <option value="start">🌱 새로운 시작을 앞두고 있어요</option>
                            <option value="maintain">🏠 현재 상황을 유지하고 싶어요</option>
                            <option value="change">🔄 변화가 필요하다고 느껴요</option>
                            <option value="choice">🤔 선택의 기로에 있어요</option>
                        </select>
                    </div>

                    <!-- 성향 1 -->
                    <div class="form-group">
                        <label class="form-label">사람들과 함께할 때 나는?</label>
                        <select name="social_style" required>
                            <option value="">선택해주세요</option>
                            <option value="alone">🧘 혼자가 더 편해요</option>
                            <option value="together">🎉 함께가 더 좋아요</option>
                            <option value="balance">⚖️ 상황에 따라 달라요</option>
                        </select>
                    </div>

                    <!-- 성향 2 -->
                    <div class="form-group">
                        <label class="form-label">일을 할 때 나는?</label>
                        <select name="work_style" required>
                            <option value="">선택해주세요</option>
                            <option value="planned">📋 계획적으로 하는 편</option>
                            <option value="spontaneous">⚡ 즉흥적으로 하는 편</option>
                            <option value="flexible">🔀 상황 봐서 유연하게</option>
                        </select>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="submit-button">
                    분석 시작하기
                    <span class="arrow">→</span>
                </button>

                <p class="privacy-note">
                    입력하신 정보는 분석에만 사용되며 저장되지 않습니다.
                </p>
            </form>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p class="copyright">© 2024-2025 찬공랩</p>
        </footer>
    </div>

    <script>
        // 년도 옵션 생성 (1940 ~ 현재)
        const yearSelect = document.getElementById('birthYear');
        const currentYear = new Date().getFullYear();
        for (let year = currentYear; year >= 1940; year--) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year + '년';
            yearSelect.appendChild(option);
        }

        // 월 옵션 생성
        const monthSelect = document.getElementById('birthMonth');
        for (let month = 1; month <= 12; month++) {
            const option = document.createElement('option');
            option.value = month;
            option.textContent = month + '월';
            monthSelect.appendChild(option);
        }

        // 일 옵션 생성
        const daySelect = document.getElementById('birthDay');
        for (let day = 1; day <= 31; day++) {
            const option = document.createElement('option');
            option.value = day;
            option.textContent = day + '일';
            daySelect.appendChild(option);
        }

        // 폼 제출 시 로딩 표시
        document.getElementById('analysisForm').addEventListener('submit', function(e) {
            const button = this.querySelector('.submit-button');
            button.innerHTML = '분석 중... <span class="loading"></span>';
            button.disabled = true;
        });
    </script>
</body>
</html>
